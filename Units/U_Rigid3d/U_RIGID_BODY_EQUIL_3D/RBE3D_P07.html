
<!DOCTYPE html>
<html>
<head>
<title>U04_3d_P07.html</title>
<link href="../style_ipp_prob.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="../lib_gvSetup.js"></script>
<script>
var gvprobid= "U04_3d_P07";
var gvgridon= false;
var gvFscal=  100/100;

// Geometric variables for active display

// Instance variables
var gvNinst= 0;		// counter
var gvIV1= {nam:"mp",val:0,min:2.5,max:3.5 };
var gvIV2= {nam:"md",val:0,min:5,  max:7.5 };
var gvIV3= {nam:"a", val:0,min:44, max:52 };
var gvIV4= {nam:"b", val:0,min:12, max:14 };
var gvIV5= {nam:"w", val:0,min:36, max:42 };
var gvIV=  [5,gvIV1,gvIV2,gvIV3,gvIV4,gvIV5];

// Answers
var gvPart1= {act:"enter",nam:"FA",typ:"N",ansS:"",ansP:"",ntries:0};
var gvPart2= {act:"enter",nam:"FC",typ:"N",ansS:"",ansP:"",ntries:0};
var gvPart3= {act:"enter",nam:"FD",typ:"N",ansS:"",ansP:"",ntries:0};
var gvPart=  [3,gvPart1,gvPart2,gvPart3];

//alert("gv completed");
</script>

<script type="text/javascript" src="../lib_Actions.js"></script>
<script type="text/javascript" src="../lib_cDraw1.js"></script>

</head>


<body id="bodywrap" onload="initialize2()">

<!-- Wrap for entire page ----------------------------------------------------->
<div id="pagewrap">

<!-- Wrap for header and canvas ----------------------------------------------->
<div>
<div id="hdrwrap"> <!-- postioned relative to parent div-->
<p class="hdr2">ip4STATICS Problem U04_3d_P07</p>
<p>A delivery tricycle is shown in abstracted form below. The wheel centers are at A, C and D. The payload mass is mp and the driver mass is md. The frame structure has been simplified and the handlebars for steering are not shown. Units are lbf, lbm and inches.</p><br>
</div>

<!-- Canvases ----------------------------------------------------------------->
<div id="cvswrap" style="width:804px; height:464px;">
 <canvas id="layer1" width="800px" height="460px"></canvas>
 <canvas id="layer2" width="800px" height="460px"></canvas>
 <script>
	gvgrid.xmax= 800;
	gvgrid.ymax= 460;
	gvgrid.dx=   20;
	gvgrid.dy=   20;
 </script>	
</div>
</div>

<!-- New Instance section -----------------------------------------------------> 
<div id="instwrap">
 <div id="INST"><button onclick="doINSTANCE('new')"><b>INSTANCE</b></button></div>
 <div id="instmsg"><p id="msgInstance">&#160;</p></div>
</div>

<!-- Set IV section -----------------------------------------------------------> 
<div id="ivsetctrl">
 <div id="ivSET_IV"><button onclick="setIVs('set')"><b>SET IVs</b></button></p></div> 
 <div id="ivSUBMIT"><button onclick="setIVs('submit')"><b>SUBMIT IVs</b></button></p></div>
 <div id="ivCLR_IV"><button onclick="setIVs('clr')"><b>CLR MSG</b></button></div>
 <div id="ivmsgline"><p id="ivmsg"></p></div>
</div>
<!-- header block -->
<div id="ivsethdr">
 <div class="ivnam"><p id="ivnamh">Name</p></div>
 <div class="ivmin"><p id="ivminh">Min</p></div>
 <div class="ivmax"><p id="ivmaxh">Max</p></div>
 <div class="ivval"><p id="ivvalh">Value</p></div> 
</div>
<!-- entry blocks -->
<div id="ivsetwrap"> 
 <div class="ivsetline">
  <div class="ivnam"><p id="ivnam1"></p></div>
  <div class="ivmin"><p id="ivmin1"></p></div>
  <div class="ivmax"><p id="ivmax1"></p></div>
  <div class="ivval"><input type="text" size="16" id="enteriv1" value=""></p></div>
 </div>
 <div class="ivsetline">
  <div class="ivnam"><p id="ivnam2"></p></div>
  <div class="ivmin"><p id="ivmin2"></p></div>
  <div class="ivmax"><p id="ivmax2"></p></div>
  <div class="ivval"><input type="text" size="16" id="enteriv2" value=""></p></div>
 </div>
 <div class="ivsetline">
  <div class="ivnam"><p id="ivnam3"></p></div>
  <div class="ivmin"><p id="ivmin3"></p></div>
  <div class="ivmax"><p id="ivmax3"></p></div>
  <div class="ivval"><input type="text" size="16" id="enteriv3" value=""></p></div>
 </div>
 <div class="ivsetline">
  <div class="ivnam"><p id="ivnam4"></p></div>
  <div class="ivmin"><p id="ivmin4"></p></div>
  <div class="ivmax"><p id="ivmax4"></p></div>
  <div class="ivval"><input type="text" size="16" id="enteriv4" value=""></p></div>
 </div>  
 <div class="ivsetline">
  <div class="ivnam"><p id="ivnam5"></p></div>
  <div class="ivmin"><p id="ivmin5"></p></div>
  <div class="ivmax"><p id="ivmax5"></p></div>
  <div class="ivval"><input type="text" size="16" id="enteriv5" value=""></p></div>
 </div>
</div>
<hr>

<!-- Part 1 -------------------------------------------------------------------> 
<div class="parthdr">
 <p>(1) What is FA, the vertical contact force at the base of wheel A?</p>
</div>
<div class="partans">
 <div class="ansENTER"><input type="text" size="40" id="enterP1" value=" "></div>
 <div class="ENTER"><button onclick="doENTER(1)"><b>ENTER</b></button></div> 
 <div class="ansres"><p id="resP1"></p></div>
 <div class="ntries"><p id="tryP1"></p></div>
 <div class="ANS"><button onclick="doANS(1)"><b>ANS</b></button></div>
 <div class="CLR"><button onclick="doCLR(1)"><b>CLR</b></button></div> 
</div>

<!-- Part 2 -------------------------------------------------------------------> 
<div class="parthdr">
 <p>(2) What is FC, the vertical contact force at the base of wheel C?</p>
</div>
<div class="partans">
 <div class="ansENTER"><input type="text" size="40" id="enterP2" value=" "></div>
 <div class="ENTER"><button onclick="doENTER(2)"><b>ENTER</b></button></div> 
 <div class="ansres"><p id="resP2"></p></div>
 <div class="ntries"><p id="tryP2"></p></div>
 <div class="ANS"><button onclick="doANS(2)"><b>ANS</b></button></div>
 <div class="CLR"><button onclick="doCLR(2)"><b>CLR</b></button></div> 
</div>

<!-- Part 3 -------------------------------------------------------------------> 
<div class="parthdr">
 <p>(3) What is FD, the vertical contact force at the base of wheel D?</p>
</div>
<div class="partans">
 <div class="ansENTER"><input type="text" size="40" id="enterP3" value=" "></div>
 <div class="ENTER"><button onclick="doENTER(3)"><b>ENTER</b></button></div> 
 <div class="ansres"><p id="resP3"></p></div>
 <div class="ntries"><p id="tryP3"></p></div>
 <div class="ANS"><button onclick="doANS(3)"><b>ANS</b></button></div>
 <div class="CLR"><button onclick="doCLR(3)"><b>CLR</b></button></div> 
</div>

<hr>
<!-- MESSAGE line instance request -------------------------------------------->
<div id="msgwrap"> 
 <p id="msgline"><b>&#160;&#160;&#160;Message:</b></p>
</div>
<br>
<!-- General control requests -------------------------------------------------> 
<div id="ctlwrap">
 <div id="FEEDBACK1"><button onclick="doFEEDBACK()"><b>FEEDBACK</b></button></div>
 <div id="HELP1">  <button onclick="doHELP()"><b>HELP</b></button></div>
 <div id="CLRMSG1"><button onclick="doCLRMSG()"><b>CLEAR MSG</b></button></div>
 <div id="WORKSH1"><button onclick="doWORKSHEET()"><b>WORKSHEET</b></button></div>
 <div id="SOLUTION1"><button onclick="doSOLUTION()"><b>SOLUTION</b></button></div>
</div>

<hr>
<!-- Footer ------------------------------------------------------------------->
<div id="ftrwrap">
<p id="ftrlin1"><b>MSU - CoE</b></p>
</div>

<!-- Inline scripts specific to this problem ---------------------------------->
<script type="text/javascript">

// doINSTANCE ----------------------------------------------------------------->
function doINSTANCE(act)
{
	if (act == "new") {
		// generate new instance vbls
		var mp= 2.5 +1*Math.random();
		var md= 5 +2.5*Math.random();
		var a=  44 +8*Math.random();
		var b=  12 +2*Math.random();
		var w=  36 +6*Math.random();
		gvIV1.val= mp;
		gvIV2.val= md;
		gvIV3.val= a;
		gvIV4.val= b;
		gvIV5.val= w;
		gvNinst=   gvNinst +1;
	}
	else if ((act == "set")||(act == "grid")) {
		mp= Number(gvIV1.val);
		md= Number(gvIV2.val);
		a=  Number(gvIV3.val);
		b=  Number(gvIV4.val);
		w=  Number(gvIV5.val);
		if (act == "grid") {
			gridon=   !gridon;
			gvgridon= gridon;
		}		
	}
	var ninst= gvNinst;
	
	// display instance line text	
	var mpf=  mp.toPrecision(3);
	var mdf=  md.toPrecision(3);
	var af=   a.toPrecision(3);
	var bf=   b.toPrecision(3);	
	var wf=   w.toPrecision(3);	
	var strb=  " ".concat(ninst,": mp= ",mpf," lbm, md= ",mdf," lbm");
	strb=     strb.concat(", &#160;a= ",af," in, &#160;b= ",bf," in,&#160; w= ",wf," in.");
	document.getElementById("msgInstance").innerHTML= strb.bold();

	// clear all enter and message data text
	doCLR(0);

	// set F and D scales and display instance data 
	gvFscal= 100/100;		// pixels per unit_force
	drawINSTANCE('INSTANCE');		
	
	// get new solution and save it ---------------------------------
	var g= 32.2;
	var Wp= g*mp;
	var Wd= g*md;
	
	var FA= Wp +(b/a)*Wd;
	var FC= Wd*(1 - b/a)/2;
	var FD= FC;
	
	FA= FA.toPrecision(3);
	FC= FC.toPrecision(3);
	FD= FD.toPrecision(3);
	gvPart[1].ansS= String(FA);
	gvPart[2].ansS= String(FC);	
	gvPart[3].ansS= String(FD);
}	

// drawINSTANCE --------------------------------------------------------------->
function drawINSTANCEx(act)
{	
	// see if grid toggle called for	
	var gridon= gvgridon;
	if (act==="GRID") {
		gridon=   !gridon;
		gvgridon= gridon;
	}

	// initialize layer2 canvas
	var cid=   "layer2";
	var c=     document.getElementById(cid);
	var ctx=   c.getContext("2d");
	ctx.clearRect(0,0,c.width,c.height);
	gridon= gvgridon;
	if (gridon) {cDrawGrid(cid);}	
	
}
	
// Draw body1 only once, on load ---------------------------------------------->
function drawBody1()
{
	var cid= "layer1";
	var c1=   document.getElementById(cid);
	var ctx = c1.getContext('2d');
	
	var x0=  260;
	var y0=  240;
	gv00.x0= x0;
	gv00.y0= y0;
	
	// key points
	var A= {x:x0+280,y:y0};
	var B= {x:x0+80, y:y0};
	var C= {x:x0-60, y:y0+60};
	var D= {x:x0+60, y:y0-60};
	var E= {x:A.x,   y:A.y-80};
	var F= {x:B.x,   y:B.y-100};	
	
	cDrawDot(cid,A.x,A.y,8,"black");
	cDrawDot(cid,B.x,B.y,8,"black");
	cDrawDot(cid,C.x,C.y,8,"black");	
	cDrawDot(cid,D.x,D.y,8,"black");
	ctx.font = "16px Arial";
    ctx.fillStyle = 'black';
    ctx.fillText("A",A.x-23,A.y-12);
    ctx.fillText("B",B.x-23,B.y-12);
    ctx.fillText("C",C.x-23,C.y-5);		
	ctx.fillText("D",D.x-23,D.y-5);

	// draw left rear wheel behind everything
	cDrawEllipse(cid,D.x,D.y,60,70,0,0,360,false,"gray",8,"none");
	cDrawLine(cid,D.x-25,D.y+74,D.x+25,D.y+74,"brown",4,"round");
	
	// draw axes
	cDrawArrow(cid,x0+160,y0-160,x0-160,y0+160,"gray",2,true);	// X axis	
	cDrawArrow(cid,x0-100,y0,A.x+140,y0,"gray",2,true);			// Y axis
	cDrawArrow(cid,x0,y0+180,x0,y0-220,"gray",2,true);			// Z axis	
	ctx.font = "16px Arial";
    ctx.fillStyle = 'black';
    ctx.fillText("X",x0-160,y0+140);
    ctx.fillText("Y",A.x+115,y0+20);
    ctx.fillText("Z",x0-20,y0-200);	
	
	// draw bike frame and posts for load and driver
	cDrawLine(cid,x0-60,y0+60,x0+60,y0-60,"black",8,"round");	
	cDrawLine(cid,x0,y0,A.x,y0,"black",8,"round");	
	cDrawDot(cid,x0,y0,8,"black");
	
	cDrawLine(cid,A.x,A.y,E.x,E.y,"black",8,"round");
	cDrawLine(cid,A.x-30,E.y,A.x+30,E.y,"brown",8,"round");
	cDrawRectxy(cid,A.x-30,E.y-5,A.x+30,E.y-65,"gray",3,"lightgray");		
	cDrawLine(cid,B.x,B.y,F.x,F.y,"black",8,"round");	
	cDrawLine(cid,B.x-30,F.y,B.x+30,F.y,"brown",8,"round");
	cDrawRectxy(cid,B.x-30,F.y-5,B.x+30,F.y-85,"gray",3,"silver");	
	ctx.font = "16px Arial";
    ctx.fillStyle = 'black';
    ctx.fillText("mp",A.x-10,E.y-75);
    ctx.fillText("md",B.x-10,F.y-95);
	
	// draw wheels A and C in foreground
	//cDrawEllipse(cid,xe,ye,rX,rY,rot,sAng,eAng,dir,bcol,bwid,fcol);
	cDrawEllipse(cid,A.x,A.y,60,70,0,0,360,false,"gray",8,"none");
	cDrawLine(cid,A.x-25,A.y+74,A.x+25,A.y+74,"brown",4,"round");
	cDrawEllipse(cid,C.x,C.y,60,70,0,0,360,false,"gray",8,"none");	
	cDrawLine(cid,C.x-25,C.y+74,C.x+25,C.y+74,"brown",4,"round");

	// dimensioning
	cDrawLine(cid,B.x,B.y+10,B.x,B.y+47,"black",1,"round");
	cDrawLine(cid,A.x,A.y+20,A.x,A.y+70,"black",1,"round");
	cDrawDoubleArrow(cid,x0,B.y+35,B.x,B.y+35,"black",1,true);
	cDrawTextBG(cid," b ",(x0+B.x)/2-5,B.y+26);	
	cDrawDoubleArrow(cid,x0,A.y+55,A.x,A.y+55,"black",1,true);
	cDrawTextBG(cid," a ",(x0+A.x)/2-5,A.y+46);
	
	cDrawLine(cid,x0-80,D.y,D.x-10,D.y,"black",1,"round");	
	cDrawLine(cid,x0-200,C.y,C.x-10,C.y,"black",1,"round");
	cDrawArrow(cid,x0-120,y0,x0-60,D.y,"black",1,true);
	cDrawArrow(cid,x0-120,y0,x0-180,C.y,"black",1,true);	
	cDrawTextBG(cid," w",x0-127,y0-8);	
}

// doANS -------------------------------------------------------------------->
function doANS(partn)
{	
	var strb= "&#160;&#160;&#160;Answer "+String(partn)+": ";
	//alert(strb);	
	var ansS=     gvPart[partn].ansS;
	if (partn < 4) {		
		strb= strb+ansS+" lbf"
	}
	document.getElementById("msgline").innerHTML= strb;
}
</script>

<!-- Page must load completely before this can run properly ------------------->
<script>
	var Ninst= gvNinst;
	if (Ninst == 0 ) {
		setIVs("hide");
		drawBody1();
		doINSTANCE("new");
	}
</script>

</body>
</html>